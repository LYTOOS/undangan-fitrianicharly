<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Undangan Pernikahan</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cinzel:wght@600;700&display=swap" rel="stylesheet">
<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">

<style>
body{margin:0;font-family:Poppins;background:#fffaf2;color:#2b261f}
section{padding:90px 20px;text-align:center}
h1,h2{font-family:'Playfair Display',serif;color:#c9a24d}
.hero{min-height:100vh;background:url('foto/cover.jpg') center/cover fixed;display:flex;align-items:center;justify-content:center;color:#fff}
.songket-section{ position:relative; }
button{
  transition:.35s cubic-bezier(.25,.8,.25,1);
}
button:hover{
  transform:translateY(-3px) scale(1.05);
  box-shadow:0 18px 45px rgba(212,175,55,.55);
}
button:active{
  transform:scale(.96);
}

#audioToggle{
  position:fixed;
  bottom:20px;
  right:20px;
  width:44px;
  height:44px;
  border-radius:50%;
  border:none;
  background:linear-gradient(135deg,#d4af37,#b8962e);
  color:#fff;
  font-size:18px;
  box-shadow:0 10px 26px rgba(0,0,0,.25);
  z-index:999;
}

.icon-circle{
  width:54px;
  height:54px;
  border-radius:50%;
  background:#fff;
  padding:2px; /* ‚Üê kecilkan di sini */
  box-shadow:0 6px 16px rgba(0,0,0,.15);
  display:flex;
  align-items:center;
  justify-content:center;
}

img{
  position:relative;
  z-index:1;
}

.icon-circle img{
  width:100%;
  height:100%;
  border-radius:50%;
}

.profile img{
  position:relative;
  z-index:2;
  background:#fff;
  box-shadow:0 18px 40px rgba(0,0,0,.25);
}

#gate{
position:fixed; inset:0;
background: linear-gradient(135deg,#1c1b18,#2b261f), url('foto/cover.jpg') center/cover;
z-index:10000; display:flex; align-items:center; justify-content:center; overflow:hidden;
}

#gate::after{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.25);
  z-index:2;
}

.gate{position:absolute;top:0;width:50%;height:100%;background:linear-gradient(135deg,#d4af37,#b8962e);transition:1.2s ease-in-out;z-index:1}
.gate.left{left:0} .gate.right{right:0}
#gate.open .left{transform:translateX(-100%)} #gate.open .right{transform:translateX(100%)}

.gate-text{position:relative; z-index:5; text-align:center; color:#FFD700; text-shadow:2px 2px 8px rgba(0,0,0,0.6);}
.gate-text h1{font-size:48px;} .gate-text button{font-size:18px; padding:12px 28px; text-shadow:1px 1px 4px rgba(0,0,0,0.5);}

#musicControl{
  position:fixed;
  bottom:24px;
  right:24px;
  width:54px;
  height:54px;
  border-radius:50%;
  background:linear-gradient(135deg,#d4af37,#b8962e);
  color:#fff;
  font-size:22px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  box-shadow:0 10px 30px rgba(212,175,55,.55);
  z-index:99999;
  transition:.35s ease;
}

#musicControl:hover{
  transform:scale(1.08);
}

#musicControl.muted{
  background:#666;
}

.songket::before{
content:"";
position:absolute;
inset:0;
background:url("https://www.transparenttextures.com/patterns/fabric-of-squares.png");
opacity:.25;
mix-blend-mode:overlay;
pointer-events:none;
}
.songket::after{
  content:"";
  position:absolute;
  inset:0;
  background:radial-gradient(circle at top,rgba(255,255,255,.15),transparent);
  pointer-events:none;
}

.songket{
  position:absolute;
  background:
    url("foto/songket.png") center/cover no-repeat;
  opacity:.16;
  z-index:-1;
  transform:translateZ(0);
}
.songket-layer{
position:absolute;
inset:0;
background:linear-gradient(45deg,rgba(255,215,0,.08),transparent);
pointer-events:none;
}

/* === SONGKET ROYAL CURTAIN === */
.songket-curtain{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:99996;
}

.songket-curtain::before,
.songket-curtain::after{
  content:"";
  position:absolute;
  top:0;
  width:50%;
  height:100%;
  background:
    linear-gradient(135deg,
      rgba(212,175,55,.35),
      rgba(255,215,0,.15)
    ),
    url("https://www.transparenttextures.com/patterns/fabric-plaid.png");
  opacity:.55;
}

.songket-curtain::before{left:0}
.songket-curtain::after{right:0}

/* === KALIGRAFI EMAS TIMBUL === */
.kaligrafi{
  font-family:'Playfair Display', serif;
  font-size:54px;
  letter-spacing:4px;
  background:linear-gradient(145deg,#FFD700,#FFF7C2,#C9A24D);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:
    0 2px 4px rgba(0,0,0,.35),
    0 0 30px rgba(255,215,0,.45);
}

/* === PREMIUM DIVIDER EMAS HIDUP === */
.section-divider{
width:140px;
height:6px;
margin:28px auto;
border-radius:8px;
background:
linear-gradient(
90deg,
#8f6b1f,
#ffd700,
#fff3b0,
#ffd700,
#8f6b1f
);
box-shadow:
0 0 18px rgba(255,215,0,.6),
0 0 40px rgba(255,215,0,.35);
position:relative;
overflow:hidden;
}
  
/* Kilau cahaya */
.section-divider::after{
content:"";
position:absolute;
top:0; left:-40%;
width:40%;
height:100%;
background:linear-gradient(
120deg,
    transparent,
    rgba(255,255,255,.9),
    transparent
  );
  animation:shine 3s infinite;
}

@keyframes goldFlow{
  0%{background-position:0%}
  100%{background-position:300%}
}

@keyframes shine{
0%{left:-40%}
100%{left:140%}
}

h2{
font-size:38px;
letter-spacing:3px;
text-transform:uppercase;
text-shadow:
0 3px 6px rgba(0,0,0,.35),
0 0 18px rgba(255,215,0,.45);
}

html{
  scroll-behavior:smooth;
}

section{
  scroll-margin-top:60px;
}
  
.royal-title{
font-size:52px;
letter-spacing:4px;
background:linear-gradient(135deg,#FFD700,#FFF2B0,#C9A24D);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
text-shadow:
0 2px 8px rgba(0,0,0,.4),
0 0 20px rgba(255,215,0,.35);
}
  
/* === LEVEL 7 : QRIS ROYAL PROTECTION === */
.qris-protect{
  position:relative;
  display:inline-block;
  touch-action:manipulation;
  overflow:hidden;
  border-radius:22px;
  filter:blur(14px) brightness(.75);
  transition:.45s cubic-bezier(.25,.8,.25,1);
}

.qris-protect::after{
  content:"QRIS TERLINDUNGI";
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  letter-spacing:2px;
  color:#FFD700;
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(6px);
  text-shadow:0 0 12px gold;
}

.qris-protect.open{
  filter:blur(0);
  transform:none;
}
.qris-protect.open::after{ opacity:0; }

/* === QRIS SIZE LOCK (FINAL) === */
.qris-protect img{
  width:220px;
  max-width:70vw;
  height:auto;
  border-radius:18px;
  user-select:none;
  -webkit-user-drag:none;
  pointer-events:none;
}

/* Saat dibuka */
.qris-protect.open img{
  width:260px;
}

/* Mobile extra safety */
@media(max-width:480px){
  .qris-protect img{
    width:200px;
  }
  .qris-protect.open img{
    width:230px;
  }
}
  
.card{background:#fff;max-width:900px;margin:40px auto;padding:50px;border-radius:26px;box-shadow:0 20px 60px rgba(0,0,0,.15)}
.card h2{
  margin-bottom:8px;
}

.card p{
  margin-top:0;
}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:16px}
.grid img{width:100%;height:220px;object-fit:cover;border-radius:18px}
.slider{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;}
.slider img{width:280px;border-radius:20px;scroll-snap-align:center;}
input,textarea{width:100%;padding:14px;border-radius:12px;border:1px solid #ddd;margin-bottom:14px}
button{padding:14px 36px;border-radius:40px;border:none;background:linear-gradient(135deg,#d4af37,#b8962e);color:#fff;cursor:pointer}
.ucapan{text-align:left;border-bottom:1px solid #eee;padding:12px 0}
.copy{cursor:pointer;color:#c9a24d;font-weight:600}
#popup{display:none;position:fixed;inset:0;background:rgba(0,0,0,.7);align-items:center;justify-content:center}
#popup img{max-width:300px;border-radius:20px}
small{color:#888}

section{
  transition:transform .8s ease, opacity .8s ease;
}

section.aos-animate{
  opacity:1;
  transform:none;
}

.sosmed{
  width:42px;
  height:42px;
  border-radius:50%;
  background:#fff;
  padding:8px;
  box-shadow:0 8px 22px rgba(0,0,0,.15);
  transition:.35s ease;
}
.sosmed:hover{
  transform:translateY(-4px) scale(1.1);
  box-shadow:0 16px 36px rgba(212,175,55,.55);
}

.maps-btn{
  display:inline-block;
  margin-top:18px;
  padding:14px 34px;
  border-radius:50px;
  font-weight:600;
  letter-spacing:1px;
  text-decoration:none;
  color:#fff;
  background:linear-gradient(135deg,#d4af37,#b8962e);
  box-shadow:0 14px 40px rgba(212,175,55,.55);
  transition:.4s cubic-bezier(.25,.8,.25,1);
}

.maps-btn:hover{
  transform:translateY(-4px) scale(1.05);
  box-shadow:0 20px 60px rgba(212,175,55,.75);
}
  
/* === ROYAL CINEMATIC EFFECT === */
.royal-fade{
  animation:royalFade 2.2s ease forwards;
}
@keyframes royalFade{
  from{opacity:0; transform:scale(1.08)}
  to{opacity:1; transform:scale(1)}
}

/* === RELIEF EMAS HIDUP === */
.royal-title{
  text-shadow: var(--goldGlow, 0 0 20px rgba(255,215,0,.25));
  position:relative;
}
.royal-title::after{
  content:attr(data-text);
  position:absolute;
  left:0; top:0;
  background:linear-gradient(
    120deg,
    transparent 20%,
    rgba(255,255,255,.8),
    transparent 80%
  );
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:goldSweep 4s infinite;
}
@keyframes goldSweep{
  from{background-position:-200%}
  to{background-position:200%}
}

/* === ORNAMEN MELAYU === */
.ornament{
  display:flex;
  justify-content:center;
  gap:24px;
  margin-bottom:18px;
}
.ornament span{
  width:80px;
  height:3px;
  background:linear-gradient(90deg,#8f6b1f,#ffd700,#8f6b1f);
  box-shadow:0 0 12px rgba(255,215,0,.6);
}

.songket-bg{
  position:fixed;
  inset:0;
  background:url("songket.png") center/cover;
  opacity:.12;
  z-index:-1;
  pointer-events:none;
  transform:translateZ(0);
}
  
/* ===== LEVEL 4 : CINEMATIC ===== */
#cinematic{
  position:fixed;
  inset:0;
  background:#000;
  z-index:9998;
  display:flex;
  align-items:center;
  justify-content:center;

  opacity:0;
  pointer-events:none;
}
@keyframes cinematicOut{
  to{opacity:0; visibility:hidden}
}
.cinematic-title h1{
  font-size:4rem;
  color:gold;
  letter-spacing:6px;
  animation:goldPulse 2s infinite;
}
@keyframes goldPulse{
  0%,100%{text-shadow:0 0 15px gold}
  50%{text-shadow:0 0 40px gold}
}
.cinematic-title p{
  color:#eee;
  letter-spacing:2px;
}

/* === VIGNETTE LUXURY === */
body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  background:radial-gradient(circle at center,transparent 60%,rgba(0,0,0,.45));
  z-index:99998;
}

/* === LEVEL 5 : FILM GRAIN CINEMATIC === */
body::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  background-image:url("https://grainy-gradients.vercel.app/noise.svg");
  opacity:0.08;
  mix-blend-mode:overlay;
  z-index:99999;
}

/* === ROYAL BRIDE & GROOM NAME === */
.mempelai{
  margin:40px 0;
}

.mempelai .nama{
  font-family:'Great Vibes', cursive;
  font-size:64px;
  line-height:1.2;
  background:linear-gradient(135deg,#FFD700,#FFF3B0,#C9A24D);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:
    0 3px 8px rgba(0,0,0,.35),
    0 0 22px rgba(255,215,0,.35);
}

.mempelai .label{
  font-family:'Cinzel', serif;
  font-size:14px;
  letter-spacing:3px;
  text-transform:uppercase;
  color:#8f6b1f;
  margin-bottom:6px;
}

.mempelai .ortu{
  font-style:italic;
  font-size:16px;
  color:#444;
  margin-top:8px;
}

/* === LEVEL 6 : ORNAMEN SULTAN MELAYU === */
.royal-frame{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:99997;
}

.royal-frame::before,
.royal-frame::after{
  content:"";
  position:absolute;
  top:0;
  width:160px;
  height:100%;
  background:
    linear-gradient(180deg,
      rgba(212,175,55,.55),
      rgba(255,215,0,.18),
      rgba(212,175,55,.55)
    ),
    url("https://www.transparenttextures.com/patterns/arabesque.png");
  background-blend-mode:overlay;
  opacity:.75;
  animation:royalBreath 6s ease-in-out infinite;
}

.royal-frame::before{left:0}
.royal-frame::after{right:0}

@keyframes royalBreath{
  0%,100%{opacity:.55}
  50%{opacity:.85}
}

/* === LEVEL ULTIMATE : AURA ISTANA === */
body{
  background:
    radial-gradient(circle at top,
      rgba(255,215,0,.15),
      transparent 55%),
    #fffaf2;
}

section{
  position:relative;
}

section::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    linear-gradient(120deg,
      transparent,
      rgba(255,215,0,.06),
      transparent);
  pointer-events:none;
}
textarea{
  resize:none;
}

/* === SOCIAL ICON POLISH PRO === */
.social-wrap{
  display:flex;
  justify-content:center;
  gap:12px;
  margin-top:18px;
}

.social-wrap a{
  width:34px;
  height:34px;
  border-radius:50%;
  background:linear-gradient(145deg,#fff,#f3f3f3);
  display:flex;
  align-items:center;
  justify-content:center;
  border:1.6px solid rgba(212,175,55,.55); /* gold ring */
  box-shadow:
    inset 0 1px 2px rgba(255,255,255,.6),
    0 6px 14px rgba(0,0,0,.12);
  transition:.35s cubic-bezier(.4,0,.2,1);
}

.social-wrap img{
  width:16px;
  height:16px;
  opacity:.88;
  transition:.3s;
}

/* Hover Premium */
.social-wrap a:hover{
  transform:translateY(-3px) scale(1.08);
  box-shadow:
    0 10px 26px rgba(212,175,55,.35),
    inset 0 0 0 rgba(255,255,255,.4);
}

.social-wrap a:hover img{
  opacity:1;
}

/* Mobile safe */
@media(max-width:480px){
  .social-wrap a{
    width:32px;
    height:32px;
  }
  .social-wrap img{
    width:15px;
    height:15px;
  }
}

.social-wrap{
  animation:socialFade .8s ease forwards;
}
@keyframes socialFade{
  from{opacity:0; transform:translateY(10px)}
  to{opacity:1; transform:none}
}
</style>
</head>

<body>

<div class="royal-scroll"></div>
<div class="royal-frame"></div>
<div class="songket-bg"></div>

<div id="gate">
  <div class="gate left"></div>
  <div class="gate right"></div>
  <div class="gate-text">
    <h1 class="royal-title" data-text="Walimatul ‚ÄòUrs">Walimatul ‚ÄòUrs</h1>
<p id="gateTamu"
   style="margin-top:14px;
          font-size:18px;
          letter-spacing:1px;
          color:#fff;
          opacity:.9;">
</p>
    <button onclick="openGate()">Buka Undangan</button>
  </div>
</div>

<!-- LEVEL 4 : CINEMATIC OPENING -->
<div id="cinematic">
  <div class="cinematic-title">
    <h1>Walimatul ‚ÄòUrs</h1>
    <p>Dengan penuh hormat kami mengundang</p>
  </div>
</div>

<audio id="musik" src="musik/lagu.mp3" loop></audio>
<div id="musicControl" onclick="toggleMusic()">
  üîä
</div>

<script>
const musik = document.getElementById("musik");
</script>

<section class="hero royal-fade">
<div data-aos="zoom-in">
  <div class="ornament"><span></span><span></span></div>
<h1>Walimatul ‚ÄòUrs</h1>
<p id="tamu">Tamu Undangan</p>
<p>Minggu, 15 Februari 2026</p>
</div>
</section>

<section class="songket-section" data-aos="fade-up">
  <div class="songket-layer"></div>

  <h2>Adat Melayu Riau</h2>
  <div class="section-divider"></div>

  <p>
    Dengan memohon ridho Allah SWT,<br>
    kami melaksanakan pernikahan sesuai adat Melayu Riau,<br>
    didahului dengan tepuk tepung tawar sebagai tanda restu keluarga dan adat.
  </p>
  <p><i>‚ÄúTakkan Melayu hilang di bumi.‚Äù</i></p>
</section>

<section data-aos="fade-up">
  <h2>Doa Adat Melayu</h2>
  <div class="section-divider"></div>

  <p style="font-style:italic;font-size:20px;line-height:1.8">
    ‚ÄúKami memohon restu Tuhan Yang Maha Esa,<br>
    restu orang tua, ninik mamak, dan kaum kerabat.<br>
    Semoga ikatan suci ini kekal selamanya,<br>
    berpayung adat, bersendi syarak.‚Äù
  </p>

  <p style="margin-top:14px;font-weight:600;color:#8f6b1f">
    Adat bersendi syarak, syarak bersendi Kitabullah
  </p>
</section>

<section data-aos="fade-up">
  <h2>Pantun Adat Melayu</h2>
  <div class="section-divider" data-aos="zoom-in"></div>

  <p id="pantun" style="font-style:italic;font-size:18px"></p>
</section>

<section data-aos="fade-up">
  <h2>Pengantin</h2>
  <div class="section-divider"></div>

  <div class="mempelai">
    <div class="label">Mempelai Pria</div>
    <div class="nama">Charly Handani S.I.Kom</div>
    <div class="ortu">
      Putra dari Bapak Zaili & Ibu Erni Wati
    </div>
  </div>

  <div class="mempelai">
    <div class="label">Mempelai Wanita</div>
    <div class="nama">Fitriani S.Pd</div>
    <div class="ortu">
      Putri dari Bapak R. Supian & Ibu Suryati
    </div>
  </div>
</section>

<section data-aos="fade-up">
  <h2>Keluarga Besar Pihak Pria</h2>
  <div class="section-divider"></div>
  <p>Kakak Ahmad, Adik Fajar, Sepupu Rina, Paman Budi, Bibi Sari</p>
</section>

<section data-aos="fade-up">
  <h2>Keluarga Besar Pihak Wanita</h2>
  <div class="section-divider"></div>
  <p>Kakak Rina, Adik Sari, Sepupu Dani, Paman Hadi, Bibi Lela</p>
</section>

<section data-aos="fade-up">
<h2>Menuju Hari Bahagia</h2>
<div id="countdown" style="font-size:28px;font-weight:600"></div>
<p style="
margin-top:18px;
font-size:14px;
color:#777;
line-height:1.8;
">
<b>QS. Ar-Rum : 21</b><br>
‚ÄúDan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan
untukmu dari jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya,
dan Dia menjadikan di antaramu rasa kasih dan sayang.‚Äù
</p>
</section>

<section data-aos="fade-up">
  <h2>Akad Nikah</h2>
  <div class="section-divider" data-aos="zoom-in"></div>

  <p>07.00 WIB<br>Kantor KUA Kec. Concong</p>
</section>

<section data-aos="fade-up">
  <h2>Resepsi</h2>
  <div class="section-divider" data-aos="zoom-in"></div>
<div style="margin-top:22px">
  <a href="https://maps.google.com/?q=-0.239052,103.635860"
   target="_blank"
   rel="noopener"
   class="maps-btn">
   üìç Lihat Lokasi di Google Maps
</a>
</div>

  <p>11.00 ‚Äì 17.00 WIB<br>Kediaman Mempelai Wanita</p>
</section>

<section data-aos="fade-up">
<h2>Galeri</h2>
<div class="slider">
<img src="foto/galeri1.jpg">
<img src="foto/galeri2.jpg">
<img src="foto/galeri3.jpg">
<img src="foto/galeri4.jpg">
</div>
</section>

<section data-aos="fade-up">
<h2>Tanda Kasih</h2>
<p style="font-size:13px;color:#666;margin-top:18px;line-height:1.6">
  Jika berkenan memberikan hadiah,<br>
  kami telah menyiapkan <b>Amplop Digital</b> agar lebih praktis.<br>
  Terima kasih ya ü§ç
</p>
<div class="card">
<div class="qris-protect">
  <img src="foto/qris.png" class="qris">
</div>
<p><small>Sentuh & tahan untuk melihat QR</small></p>
<p class="copy" onclick="copy('082261467360')">DANA: 082261467360</p>
<p class="copy" onclick="copy('082261467360')">GoPay: 082261467360</p>
<p class="copy" onclick="copy('901163062173')">SeaBank: 901163062173</p>
</div>
</section>

<section data-aos="fade-up">
  <div class="card">
    <h2 style="margin-bottom:12px;">Ucapan & Doa</h2>

    <p style="font-size:14px;color:#777;margin-bottom:22px">
      Kehadiran dan doa kamu sangat berarti bagi kami ü§ç
    </p>

    <input id="nama" placeholder="Nama">
    <textarea id="pesan" placeholder="Tulis ucapan & doa"></textarea>

    <button onclick="kirim()">Kirim Ucapan</button>

    <div id="listUcapan"></div>
  </div>
</section>

<div id="popup" onclick="popup(false)">
<img src="foto/qris.png">
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

<script>
AOS.init({duration:1200,once:true});
const firebaseConfig={
apiKey:"AIzaSyCr2VF6hZ3pLWU5eORdrtdM1c5L_AcLVH4",
authDomain:"undangan-pernikahan-f6d5e.firebaseapp.com",
databaseURL:"https://undangan-pernikahan-f6d5e-default-rtdb.asia-southeast1.firebasedatabase.app",
projectId:"undangan-pernikahan-f6d5e"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.database();

// Pantun otomatis
const pantunList = [
"Pergi ke hulu mencari sepat, singgah sebentar di tepi paya. Jika niat sudah terpatri di hati, akad nikah jadi penyempurna cinta.",
"Songket disulam benang emas, dipakai raja di hari mulia. Restu orang tua doa terikhlas, rumah tangga bahagia selamanya.",
"Kalau berlayar ke Indragiri, jangan lupa membawa bekal. Bila akad telah diikrari, cinta halal jadi modal kekal."
];
document.getElementById("pantun").innerText = pantunList[Math.floor(Math.random()*pantunList.length)];

const WA_NUMBER="6282261467360";
const WA_APIKEY="APIKEY_KAMU";

const device = localStorage.device || ("dev-"+Math.random().toString(36).substr(2,9));
localStorage.device = device;

function play(){document.getElementById("musik").play()}
function popup(show){document.getElementById("popup").style.display = show ? "flex" : "none";}
function copy(t){navigator.clipboard.writeText(t);alert("Disalin")}

// Kirim ucapan dengan limit 1 per device
function kirim(){
  if(localStorage.ucapanTerkirim){
    alert("Ucapan sudah terkirim üôè");
    return;
  }

  const n = nama.value.trim();
  const p = pesan.value.trim();

  if(n.length < 3 || p.length < 5){
    alert("Nama & ucapan belum lengkap");
    return;
  }

  const now = Date.now();

  const last = localStorage.lastSend || 0;
  if(Date.now() - last < 60000){
    alert("Tunggu 1 menit sebelum mengirim lagi üôè");
    return;
  }
  localStorage.lastSend = Date.now();

  db.ref("ucapan").push({
    nama: n,
    pesan: p,
    waktu: now,
    device: device
  });

  localStorage.ucapanTerkirim = "1";

  // WhatsApp notif
  fetch(
    `https://api.callmebot.com/whatsapp.php?phone=${WA_NUMBER}&text=Ucapan%20baru%20dari%20${encodeURIComponent(n)}&apikey=${WA_APIKEY}`
  );

  pesan.value = "";
}

db.ref("ucapan").on("child_added", s => {
  const d = s.val();
  const div = document.createElement("div");
  div.className = "ucapan";
  div.innerText = `${d.nama}\n${d.pesan}`;
  listUcapan.prepend(div);
});

const urlParams = new URLSearchParams(location.search);
const namaTamu = urlParams.get("to");

if(namaTamu){
  document.getElementById("tamu").innerText = "Yth. " + namaTamu.replace(/\+/g," ");
  document.getElementById("gateTamu").innerHTML =
    `Yth. Bapak/Ibu<br><b>${namaTamu.replace(/\+/g," ")}</b>`;
}

// Admin Mode
const isAdmin = location.hash === "#admin-rahasia-2026";
if(isAdmin){document.body.style.outline="5px dashed gold"; console.log("ADMIN MODE AKTIF");}

// Gerbang buka
function openGate(){
  document.getElementById("gate").classList.add("open");

  musik.currentTime = 0;
  musik.play().catch(()=>{});

  setTimeout(()=>{
    const cine = document.getElementById("cinematic");
    cine.style.opacity = 1;
    cine.style.pointerEvents = "auto";
    cine.style.animation = "cinematicOut 2s ease 3.5s forwards";
  },1300);

  setTimeout(()=>{
    document.getElementById("gate").remove();
  },1400);
}

// Countdown
const target = new Date("2026-02-15T07:00:00").getTime();
setInterval(()=>{
  const now = Date.now();
  const d = target - now;
  if(d < 0){countdown.innerHTML="Hari Ini"; return;}
  const days = Math.floor(d / 86400000);
  const h = Math.floor(d % 86400000 / 3600000);
  const m = Math.floor(d % 3600000 / 60000);
  const s = Math.floor(d % 60000 / 1000);
  countdown.innerHTML=`${days} hari ${h} jam ${m} menit ${s} detik`;
},1000);
</script>
  
<script>
let ticking=false;
window.addEventListener("scroll",()=>{
  if(!ticking){
    requestAnimationFrame(()=>{
      const sc=window.scrollY;
      document.querySelectorAll(".songket-bg").forEach(el=>{
        el.style.backgroundPosition=`center ${sc*0.4}px`;
      });
      ticking=false;
    });
    ticking=true;
  }
});
</script>

<script>
const slider=document.querySelector(".slider");
let scrollPos=0;
setInterval(()=>{
  if(!slider) return;
  scrollPos+=300;
  if(scrollPos>=slider.scrollWidth) scrollPos=0;
  slider.scrollTo({left:scrollPos,behavior:"smooth"});
},3500);
</script>

<!-- MUSIC FADE IN (LEVEL 4 IMPERIAL) -->
<script>
document.addEventListener("DOMContentLoaded",()=>{
  if(!musik) return;

  musik.volume = 0;
  let v = 0;
  const fadeAudio = setInterval(()=>{
    if(v < 0.6){
      v += 0.02;
      musik.volume = v;
    }else{
      clearInterval(fadeAudio);
    }
  },200);
});
</script>

<script>
document.querySelector(".qris-protect").onclick=()=>{
  document.querySelector(".qris-protect").classList.toggle("open");
}
</script>

<script>
setInterval(()=>{
  if(!musik.paused){
    const pulse = 0.9 + Math.random()*0.15;
    document.querySelectorAll(".royal-title").forEach(t=>{
      t.style.transform = `scale(${pulse})`;
    });
  }
},1200);
</script>

<script>
document.addEventListener("keyup",e=>{
 if(e.key==="PrintScreen"){
  alert("QRIS dilindungi keamanan undangan")
 }
});
</script>

<footer style="
text-align:center;
padding:40px 20px 60px;
font-size:13px;
color:#888;
">

<p style="margin-bottom:14px;letter-spacing:1px">
  CREATE WITH LOVE BY
</p>

<img src="logo.png"
     style="
     width:70px;
     height:70px;
     border-radius:50%;
     object-fit:cover;
     box-shadow:0 0 20px rgba(212,175,55,.45);
     margin-bottom:18px;
     ">

<div class="social-wrap">
  <a href="https://instagram.com/icharlyh" target="_blank">
    <img src="icon/ig.png">
  </a>
  <a href="https://tiktok.com/@icharlyh" target="_blank">
    <img src="icon/tiktok.png">
  </a>
  <a href="https://youtube.com/@lytoos7" target="_blank">
    <img src="icon/youtube.png">
  </a>
  <a href="https://wa.me/6282261467360" target="_blank">
    <img src="icon/wa.png">
  </a>
</div>
</footer>

<script>
const musicBtn = document.getElementById("musicControl");

function toggleMusic(){
  if(musik.paused){
    musik.play();
    musicBtn.innerHTML = "üîä";
    musicBtn.classList.remove("muted");
  }else{
    musik.pause();
    musicBtn.innerHTML = "üîá";
    musicBtn.classList.add("muted");
  }
}
</script>

<script>
setTimeout(()=>{
  const cine = document.getElementById("cinematic");
  if(cine) cine.remove();
},6000);
</script>

</body>
</html>
